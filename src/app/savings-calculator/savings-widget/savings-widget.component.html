<div class="panel-wrapper flex-container">
  <div class="pull-left">
    <h5  style="display: inline;" >{{metric.title}}</h5>
    <span *ngIf="metric.tooltip" class="relative-pos" (clickOutside)="onClickedOutside($event)">
      <i class="fa fa-info-circle pointer-hand ml5" (click)="isTooltipOpened = !isTooltipOpened"></i>
      <div  class="tooltip-div" [ngClass]="{ 'tooltip-div-open': isTooltipOpened }">
        {{metric.tooltip}}
        <div *ngIf="metric.articleId">For more info see <a class="href-link-primary pointer-hand" (click)="showTooltip()">this link.</a></div>
      </div>
    </span>
    <div class="subtitle mb10 mt5" *ngIf="metric.viewLabel"><a class="href-link-primary" (click)="openDetails()">View {{metric.viewLabel}} details</a></div>
  </div>
  <div class="pull-right" *ngIf="metric.overstaffingNumber">
    <span class="pr5">Meeting Threshold</span>
    <p-dropdown class="mr20" [options]="overstaffingOptions" (onChange)="getOverstaffing($event)" [(ngModel)]="metric.overstaffingNumber"></p-dropdown>
  </div>
  <div class="clear-both"></div>
  <div class="subtitle mb10 mt5" *ngIf="metric.percentLabel">{{metric.percentLabel}}:
    <span class="font-body" *ngIf="metric.savingsType !== 'DelayedBilling'">{{metric.origPercent | number:'1.0-0'}}%</span>
    <span class="font-body" *ngIf="metric.savingsType === 'DelayedBilling'">${{metric.total | number:'1.0-0'}}</span>
  </div>

  <div class="small-title">
    <div class="text-left pull-left">{{minRange}}%</div>
    <div class="text-right pull-right">{{metric.maxRange}}%</div>

  </div>
  <div class="clear-both ml10 mr10">
    <mat-slider color="primary" [min]="minRange" [max]="metric.maxRange" [step]="1" [(value)]="metric.percent"
                thumbLabel="true"
                [displayWith]="formatLabel"
    (change)="sliderChange($event)"></mat-slider>
  </div>
  <div class="full-width text-center circle-wrapper mb20">
    <div class="circle">
      <div class="circle-text">
        <div>${{metric.savings  | number:'1.0-0'}}</div>
        <div class="text-gray font-normal">{{savingsService.calculatePercent(metric.savings, totalSpend)  | number:'1.0-0'}}%</div>
      </div>
    </div>
  </div>
</div>
