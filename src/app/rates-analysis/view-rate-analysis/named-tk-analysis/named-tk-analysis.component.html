<div style="padding: 0px 16px 16px 24px; background: #E9F1F4;" id="exportDiv">
  <div style="display: inline-flex;">
    <button class="back-button" (click)="goBack()" data-html2canvas-ignore="true" style="height: 42px;"><i class="fa fa-chevron-left" style="font-size: 12px; margin-right: 6px !important;"></i> Back</button>

    <div style="display: inline !important; background: white; border-radius: 16px; margin: 0px 32px; padding: 8px 16px; max-height: 124px; width: 480px;" *ngIf="benchmark">
      <div style="display: inline !important; background: white; border-radius: 16px;">
        <p style="margin-bottom: 0px; line-height: 1.5em;">
          <span style="padding-left: 0em !important; font-family: 'Roboto Bold'; font-size: 16px !important;">Firm: </span>
          <span style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;"> {{firmName}}</span>
        </p>

        <p style="margin-bottom: 0px; line-height: 1.5em;">
          <span style="padding-left: 0em !important; font-family: 'Roboto Bold'; font-size: 16px !important;">Practice Area(s): </span>
          <span *ngIf="practiceArea.length < 12" style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;">
            <!-- {{practiceArea}} -->
            <div style="display: inline;" *ngFor="let pa of practiceArea; let last = last;">
              <span *ngIf="!last">{{pa}}, </span>
              <span *ngIf="last">{{pa}}</span>
            </div>
          </span>
          <span *ngIf="practiceArea.length === 12" style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;">All PAs</span>
        </p>

        <p style="margin-bottom: 0px; line-height: 1.5em;">
          <span class="header-span" style="padding-left: 0em !important; font-family: 'Roboto Bold'; font-size: 16px !important;">Year(s): </span>
          <span *ngIf="year.length === 1" style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;"> {{year}}</span>
          <span *ngIf="year.length > 1" style="display: inline; color: #000000; font-family: 'Roboto' !important; font-size: 16px;">
            <div style="display: inline;" *ngFor="let y of year; let last = last;">
              <span *ngIf="!last">{{y}}, </span>
              <span *ngIf="last">{{y}}</span>
            </div>
          </span>
        </p>

      </div>
    </div>

    <div class="peer-firms" *ngIf="loaded">
      <bd-comparison-firms [marketFirms]="marketAvgFirms" [panelFirms]="internalFirms" [benchmark]="benchmark"></bd-comparison-firms>
    </div>

  </div>

  <h3 style="padding-bottom: 20px;">Named Timekeeper Benchmarks<br>& Cost Analysis</h3>

  <div class="nav-wrapper">
    <div class="nav-pill" style="order: 0;" (click)="goToOverviewPage()">
      Rates Overview
    </div>
    <div class="nav-pill" style="order: 1;" (click)="goToTKPage()">
      Timekeeper Level Analysis
    </div>
    <div class="nav-pill" style="order: 2; background: black; color: white;">
      Named Timekeeper Analysis
    </div>
    <button data-html2canvas-ignore="true" class="download-button" [matMenuTriggerFor]="menu">
      <img src="assets/images/Downloads.svg" style="filter: invert(100%) sepia(90%) saturate(39%) hue-rotate(135deg) brightness(110%) contrast(111%);" width="16px" height="16px" alt="icon"/>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="export()">Export this page (PDF)</button>
      <button mat-menu-item (click)="gridExport('xlsx')">Export Named TK Detail (XLSX)</button>
      <button mat-menu-item (click)="gridExport('csv')">Export Named TK Detail (CSV)</button>
    </mat-menu>
    <!-- <button data-html2canvas-ignore="true" class="download-button" (click)="export()" [disabled]="commonServ.pdfLoading" [ngClass]="{'button-disabled': commonServ.pdfLoading}">
      <img src="assets/images/Downloads.svg" style="filter: invert(100%) sepia(90%) saturate(39%) hue-rotate(135deg) brightness(110%) contrast(111%);" width="16px" height="16px" alt="icon"/>
    </button> -->
  </div>

  <div style="background: white; border-radius: 8px;">
    <!-- <h4>Rate Increase Prevention</h4> -->

    <div class="full-width mb10" style="padding-top: 10px;">
      <lib-export-button [gridOptions]="gridOptions"></lib-export-button>
      <lib-page-size [pageSize]="paginationPageSize" (pageSizeChanged)="changePageSize($event)"></lib-page-size>
    </div>
    <ag-grid-angular
        #agGrid
        style="width: 100%;"
        [ngStyle]="{'height': agGridService.setGridHeight(namedTKs, paginationPageSize) +'px'}"
        class="ag-theme-alpine"
        [pagination]="true"
        [paginationPageSize]="paginationPageSize"
        [sideBar]="sideBarConfig"
        (displayedColumnsChanged)="saveGridConfig($event)"
        (sortChanged)="saveGridConfig($event);"
        (columnResized)="saveGridConfig($event);"
        [suppressAggFuncInHeader]="true"
        [gridOptions]="gridOptions">
    </ag-grid-angular>
  </div>

  <div class="mt10" style="font-family: 'Roboto';">
    Benchmark Data Last Refreshed: {{lastUpdated | date: 'longDate'}}
  </div>

</div>
