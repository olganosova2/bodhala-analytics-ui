<div style="padding: 0px 16px 16px 24px; background: #E9F1F4;" id="exportDiv">
  <div style="padding: 12px 28px 8px 0px;">
    <button data-html2canvas-ignore="true" class="back-button" (click)="goBack()"><i class="fa fa-chevron-left" style="font-size: 12px; margin-right: 6px !important;"></i> Back</button>

    <div style="display: inline; background: white; border-radius: 100px; padding: 8px 28px 8px 28px;">
      <span class="header-span" style="padding-left: 0em !important; font-size: 16px !important; font-weight: 400 !important;">Firm: </span>
      <span style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;">{{firmName}}</span>

      <span class="header-span" style="margin-left: 2em; font-size: 16px !important; font-weight: 400 !important;">Practice Area: </span>
      <span style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;">{{practiceArea}}</span>

      <span class="header-span" style="margin-left: 2em; font-size: 16px !important; font-weight: 400 !important;">Year: </span>
      <span style="color: #000000; font-family: 'Roboto' !important; font-size: 16px;">{{year}}</span>
    </div>

    <div class="peer-firms" *ngIf="loaded">
      <bd-comparison-firms [marketFirms]="marketAvgFirms" [panelFirms]="internalFirms" [benchmark]="benchmark"></bd-comparison-firms>
    </div>
  </div>

  <h3 style="padding-bottom: 20px;">Timekeeper Level Benchmarks<br>& Cost Analysis</h3>

  <div class="nav-wrapper">
    <div class="nav-pill" style="order: 0;" (click)="goToOverviewPage()">
      Rates Overview
    </div>
    <div class="nav-pill" style="order: 1; background: black; color: white;">
      Timekeeper Level Analysis
    </div>
    <div [hidden]="!userService.hasEntitlement('rate.benchmarking.tks')" class="nav-pill" style="order: 2;"  (click)="goToNamedTKPage()">
      Named Timekeeper Analysis
    </div>
    <button #tooltip="matTooltip" matTooltip="Export this page to PDF" data-html2canvas-ignore="true" class="download-button" (click)="export()" [disabled]="commonServ.pdfLoading" [ngClass]="{'button-disabled': commonServ.pdfLoading}">
      <img src="assets/images/Downloads.svg" style="filter: invert(100%) sepia(90%) saturate(39%) hue-rotate(135deg) brightness(110%) contrast(111%);" width="16px" height="16px" alt="icon"/>
    </button>
  </div>

  <div *ngFor="let in of counter(numPartnerTiers); let i = index;">
    <div class="panel-wrapper mt40" style="padding: 0px !important;" [hidden]="numPartnerTiers === 4 && i === 2">
      <div>
        <bd-granular-rate-chart *ngIf="loaded" [classification]="'partner'" [tier]="i + 1" [overallSpendData]="overallSpendData" [numTiers]="numPartnerTiers"
                                [firmName]="firmName" [marketData]="partnerMarketData" [internalData]="partnerInternalData" [firmPartnerSeniorityData]="firmPartnerSeniorityData"
                                [benchmark]="benchmark" [cluster]="cluster" [totalHours]="totalHours"></bd-granular-rate-chart>
      </div>
    </div>
  </div>

  <div class="panel-wrapper mt40" style="padding: 0px !important;">
    <div>
      <bd-granular-rate-chart *ngIf="loaded" [classification]="'associate'" [seniority]="'Junior'" [marketData]="juniorAssociateMarketData" [internalData]="juniorAssociateInternalData"
                              [firmName]="firmName" [totalSeniorityHours]="juniorAssocFirmHours" [seniorityFirmRate]="juniorAssocFirmRate" [benchmark]="benchmark" [firmAssociateSeniorityData]="firmAssociateSeniorityData" [cluster]="cluster" [totalHours]="totalHours"></bd-granular-rate-chart>
    </div>
  </div>

  <div class="panel-wrapper mt40" style="padding: 0px !important;">
    <div>
      <bd-granular-rate-chart *ngIf="loaded" [classification]="'associate'" [seniority]="'Mid-Level'" [marketData]="midAssociateMarketData" [internalData]="midAssociateInternalData"
                              [firmName]="firmName" [totalSeniorityHours]="midAssocFirmHours" [seniorityFirmRate]="midAssocFirmRate" [benchmark]="benchmark" [firmAssociateSeniorityData]="firmAssociateSeniorityData" [cluster]="cluster" [totalHours]="totalHours"></bd-granular-rate-chart>
    </div>
  </div>

  <div class="panel-wrapper mt40" style="padding: 0px !important;">
    <div>
      <bd-granular-rate-chart *ngIf="loaded" [classification]="'associate'" [seniority]="'Senior'" [marketData]="seniorAssociateMarketData" [internalData]="seniorAssociateInternalData"
                              [firmName]="firmName" [totalSeniorityHours]="seniorAssocFirmHours" [seniorityFirmRate]="seniorAssocFirmRate" [firmAssociateSeniorityData]="firmAssociateSeniorityData" [benchmark]="benchmark" [cluster]="cluster" [totalHours]="totalHours"></bd-granular-rate-chart>
    </div>
  </div>

</div>
