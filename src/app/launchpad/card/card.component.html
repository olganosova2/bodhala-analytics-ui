<div class="content-body">
  <div class="panel-wrapper">
    <div class="panel-title">
      <h5>{{header}}</h5>
      <mat-button-toggle-group name="pick" aria-label="pick" value="list">
        <mat-button-toggle value="list" (click)="toggle('list')">
          <mat-icon>list</mat-icon>
        </mat-button-toggle>
        <mat-button-toggle value="chart" (click)="toggle('chart')">
          <mat-icon>pie_chart</mat-icon>
        </mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div class="panel-body" [ngClass]="{'panel-body-expanded': show === 'chart' && options }">
      <table mat-table [dataSource]="data" class="full-width"  #matterTable *ngIf="show === 'list' && isLoaded">
        <ng-container *ngFor="let col of columns" [matColumnDef]="col.field">
          <th mat-header-cell *matHeaderCellDef class="card-header">{{col.name}}</th>
          <td mat-cell *matCellDef="let row" class="card-cell">
            <bd-cell [data]="row" [column]="col" (clicked)="onClick($event)"></bd-cell>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <div *ngIf="show === 'chart' && options">
        <chart [options]="options" (load)="saveInstance($event.context)"></chart>
      </div>
    </div>
  </div>

  <div class="spinner-card" [hidden]="isLoaded">
    <mat-spinner diameter="50" color="primary"></mat-spinner>
  </div>
</div>
